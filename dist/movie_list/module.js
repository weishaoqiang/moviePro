!function(e){e.module("moviecat.movieList",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,o){o.hashPrefix(""),e.when("/:movie_list/:page?",{templateUrl:"./movie_list/view.html",controller:"movieListController"})}]).controller("movieListController",["$scope","$http","$route","$routeParams","JSONPsrv",function(e,o,t,a,i){e.pageSize=5,e.curPages=a.page||1;var r=(e.curPages-1)*e.pageSize;e.loadShow=!1,i.myJsonp("https://api.douban.com/v2/movie/"+a.movie_list,{start:r,count:e.pageSize,q:a.q},function(o){e.loadShow=!0,e.totalPages=Math.ceil(o.total/e.pageSize),e.data=o,e.$apply()}),e.changePage=function(o){o<=0||o>=e.totalPages-0+1||(e.curPages=o,t.updateParams({page:o}))}}])}(angular);